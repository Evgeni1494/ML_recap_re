{% extends "base.html" %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

{% block content %}
  <style>
    /* ... Styles précédents ... */

    /* ... Styles pour les détails ... */
    .film-details {
      display: none;
      margin-top: 5px;
    }
    
    .film-details table {
      border-collapse: collapse;
    }

    .film-details table td {
      padding: 3px 5px;
      border-bottom: 1px solid #ccc;
    }

    /* Ajouter une classe aux lignes pour le sélecteur jQuery */
    .film-row {
      margin-bottom: 10px;
      cursor: pointer;
      overflow-x: auto; /* Activer le défilement horizontal */
    }
  </style>

  <!-- ... Le reste du contenu ... -->

  <table class="table table-bordered">
    <thead>
      <!-- ... En-tête de la table ... -->
    </thead>
    <tbody>
      {% for row in data_frame.itertuples %}
      <tr class="film-row">
        <td>{{ row.title }}</td>
        <td>{{ row.genre }}</td>
        <td>{{ row.country }}</td>
        <td>{{ row.acteurs }}</td>
        <td>{{ row.durée }} min</td>
        <td>{{ row.evaluation_ML }}</td>
      </tr>
      <tr class="film-details">
        <td colspan="6">{% include 'film_detail.html' %}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <script>
    $(document).ready(function() {
      $('.film-row').click(function() {
        const details = $(this).next('.film-details');
        details.slideToggle();
      });
    });
  </script>
{% endblock %}